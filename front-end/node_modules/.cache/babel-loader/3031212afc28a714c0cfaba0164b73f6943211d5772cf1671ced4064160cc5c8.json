{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport config from \"../config.json\";\nimport http from \"./httpService\";\nconst apiEndpoint = config.apiUrl + \"/users/auth\";\nconst tokenKey = \"token\";\nexport async function logIn(email, password) {\n  const {\n    data: jwt\n  } = await http.post(apiEndpoint, {\n    email,\n    password\n  });\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function logOut() {\n  localStorage.removeItem(tokenKey);\n}\n\n//Decodes existing jwt from user and returns it\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    return jwtDecode(jwt);\n  } catch (ex) {\n    for (field in ex.errors) console.log(ex.errors[field].message);\n  }\n}\n\n//Immedietly after a user signs up\nexport function jwtLogIn(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}","map":{"version":3,"names":["jwtDecode","config","http","apiEndpoint","apiUrl","tokenKey","logIn","email","password","data","jwt","post","localStorage","setItem","logOut","removeItem","getCurrentUser","getItem","ex","field","errors","console","log","message","jwtLogIn"],"sources":["/Users/jaramilloez/Desktop/Projects/kitchen-compass/front-end/src/services/authService.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\nimport config from \"../config.json\";\nimport http from \"./httpService\";\n\nconst apiEndpoint = config.apiUrl + \"/users/auth\";\nconst tokenKey = \"token\";\n\nexport async function logIn(email, password) {\n  const { data: jwt } = await http.post(apiEndpoint, {\n    email,\n    password,\n  });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logOut() {\n  localStorage.removeItem(tokenKey);\n}\n\n//Decodes existing jwt from user and returns it\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    return jwtDecode(jwt);\n  } catch (ex) {\n    for (field in ex.errors) console.log(ex.errors[field].message);\n  }\n}\n\n//Immedietly after a user signs up\nexport function jwtLogIn(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AACtC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,IAAI,MAAM,eAAe;AAEhC,MAAMC,WAAW,GAAGF,MAAM,CAACG,MAAM,GAAG,aAAa;AACjD,MAAMC,QAAQ,GAAG,OAAO;AAExB,OAAO,eAAeC,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC3C,MAAM;IAAEC,IAAI,EAAEC;EAAI,CAAC,GAAG,MAAMR,IAAI,CAACS,IAAI,CAACR,WAAW,EAAE;IACjDI,KAAK;IACLC;EACF,CAAC,CAAC;EACFI,YAAY,CAACC,OAAO,CAACR,QAAQ,EAAEK,GAAG,CAAC;AACrC;AAEA,OAAO,SAASI,MAAMA,CAAA,EAAG;EACvBF,YAAY,CAACG,UAAU,CAACV,QAAQ,CAAC;AACnC;;AAEA;AACA,OAAO,SAASW,cAAcA,CAAA,EAAG;EAC/B,IAAI;IACF,MAAMN,GAAG,GAAGE,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;IACzC,OAAOjB,SAAS,CAACU,GAAG,CAAC;EACvB,CAAC,CAAC,OAAOQ,EAAE,EAAE;IACX,KAAKC,KAAK,IAAID,EAAE,CAACE,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACJ,EAAE,CAACE,MAAM,CAACD,KAAK,CAAC,CAACI,OAAO,CAAC;EAChE;AACF;;AAEA;AACA,OAAO,SAASC,QAAQA,CAACd,GAAG,EAAE;EAC5BE,YAAY,CAACC,OAAO,CAACR,QAAQ,EAAEK,GAAG,CAAC;AACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}